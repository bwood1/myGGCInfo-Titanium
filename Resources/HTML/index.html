<!DOCTYPE html>
<!--
* @file index.html
*
* Template application that shows examples of how to access
* device services from JavaScript using the Wormhole library.
-->
<html>
    <head>
        <meta name="viewport" content="user-scalable=no">
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <title>myGGC Info</title>
        <link rel="stylesheet" href="style.css" type="text/css" media="screen"
        title="no title" charset="utf-8">
        <!-- <script type="text/javascript" charset="utf-8" src="js/wormhole.js"></script> -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        <script type="text/javascript">
			var screenWidth = 0;
			var screenHeight = 0;
			var username;
			var isLoggedIn;
			
			//add event listeners
			Ti.App.addEventListener('index:sendLoggedInStatus', function(e) {
				isLoggedIn = e.status;
				// Ti.API.info('The logged in status is ' + isLoggedIn);
				loadLogInOutButton();
			});
			
			/**
			 * Checks to see if the user is logged in. If so then displays the log out button.
			 * If not, displays the log in button.
			 */
			function loadLogInOutButton() {
				if( isLoggedIn) {
					$("#logInOutButton").attr({
						alt: 'logOutButton',
						onClick: 'logOut();'
					});
					$("#logInOutCaption").html('Log Out');
				} else {
					$("#logInOutButton").attr({
						alt: 'logInButton',
						onClick: 'document.location="login.html"'
					});
					$("#logInOutCaption").html('Log In');				
				}
			}
			
			/**
			 * Fires the log out event to send the log out request to the server and then 
			 * displays the log in button.
			 */
			function logOut() {
				Ti.App.fireEvent("index:logoutRequest");
				$("#logInOutButton").attr({
					alt: 'logInButton',
					onClick: 'document.location="login.html"'
				});
				$("#logInOutCaption").html('Log In');
			}
			
			function showSocialMedia() {
				if($("#socialMedia").css("bottom") == "-70px") {
					$("#socialMedia").animate({bottom: "-20px"}, 500);
				} else {
					$("#socialMedia").animate({bottom: "-70px"}, 500)
				}
			}
			
			function openFacebook() {
				
			}

			$(document).ready(function() {
				Ti.App.fireEvent('index:getLoggedInStatus');
			});

        </script>
    </head>
    <body>
        <div id="screen">
            <!-- Top content -->
            <div style="padding: 5% 5% 10% 5%">
                <!-- LoginButton -->
                <div id="loginDiv">
                    <img id="logInOutButton" width="100%" height="100%" src="images/logInButton.png"
                    	alt="" onclick="">
                    <figcaption id="logInOutCaption"></figcaption>
                </div>
                <!-- /LoginButton -->
                <!-- myGGC Banner -->
                <div id="bannerDivHome">
                    <img alt="bannerImage" src="images/bannerImage.png" width="100%"
                    height="100%">
                </div>

            </div>
            <!-- Top Content -->

            <!-- content -->
            <!-- Icons -->
            <div id="iconWrapper" style="margin: 0px auto;">
                <div id="icons" style="margin: 0px auto">
                    <!-- First Row of Icons -->
                    <div class="iconRow">
                        <!-- mySchedule Button -->
                        <div style="float: left">
                            <img class="icon" onclick="document.location='mySchedule.html'"
                            src="images/homeIcons/myScheduleIcon.png" alt="scheduleIcon">
                            <figcaption>
                                mySchedule
                            </figcaption>
                        </div>
                        <!-- myMentor Button -->
                        <div style="float: right">
                            <img class="icon" onclick="document.location='myMentor.html'"
                            src="images/homeIcons/myMentorIcon.png" alt="mentorIcon">
                            <figcaption>
                                myMentor
                            </figcaption>
                        </div>
                    </div>
                    <br>
                    <!-- Second Row of Icons -->
                    <div class="iconRow">
                        <!-- ggcNewsButton -->
                        <div style="float: left">
                            <img class="icon" onclick="document.location='ggcNews.html'"
                            src="images/homeIcons/ggcNewsIcon.png" alt="campusMapIcon">
                            <figcaption>
                                GGC News
                            </figcaption>
                        </div>
                        <!-- /ggcNewsButton -->
                        <!-- What's Happening Button -->
                        <div style="float: right">
                            <img class="icon" onclick="document.location='whatsHappening.html'"
                            src="images/homeIcons/whatsHappeningIcon.png"
                            alt="whatsHappeningIcon">
                            <figcaption>
                                What's
                                <br>
                                Happening
                            </figcaption>
                        </div>
                    </div>
                    <!-- /SecondRowIcons -->
                </div>
            </div>
            <!-- /Icons -->
        </div>
        <div id="socialMedia">
        	<a href="#socialMedia", class=".toggle" onclick="showSocialMedia();">Social Media</a>
        	<br>
        	<div id="socialMediaIcons" style="padding-top: 4%">
        	<a onclick="Ti.App.fireEvent('index:openFacebook')">
        		<img class="socialMediaIcon" src="images/socialMediaIcons/facebook.png" />
        	</a>
        	<span style="width: 10%; display: inline-block"></span>
        	<a onclick="Ti.App.fireEvent('index:openTwitter')">
        		<img class="socialMediaIcon" src="images/socialMediaIcons/twitter.png" />
        	</a>
        	<span style="width: 10%; display: inline-block"></span>
        	<a onclick="Ti.App.fireEvent('index:openYouTube')">
        		<img class="socialMediaIcon" src="images/socialMediaIcons/youtube.png" />
        	</a>
        	</div>
        </div>
    </body>
</html>
