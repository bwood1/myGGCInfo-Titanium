<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="viewport" content="width=320, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>myMentor</title>
<link rel="stylesheet" href="style.css" type="text/css" media="screen"
	title="no title" charset="utf-8">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script type="text/javascript">
	var mentorArray;
	
	//Add event listeners
	Ti.App.addEventListener('myMentor:sendMentor', function(e) {
		mentorArray = e.mentor;
		showMentorInfo(e.mentor);
	});
	
	Ti.App.addEventListener('myMentor:sendMentorPicDir', function(e) {
		$("#mentorPicture").attr('src', e.imgDir);
	});
	
	/**
	*	Will retrieve the mentors information from the server and store it in variables
	*/
	function loadMentorInfo() {
		//TODO write a script that will request the mentor information from the server 
		Ti.App.fireEvent('myMentor:loadMentorInfo');
	}
	
	/**
	*	Will show the mentor information on screen
	*/
	function showMentorInfo(aMentor) {
		//format like this - http:///brandon/request.php?request=pics&size=200&user=bwood1&faculty=tim
		// Ti.API.info('mentor username: ' + aMentor.FACULTY_USERNAME);
		// $("#mentorPicture").attr("src", Ti.App.fireEvent('myMentor:getMentorFilePath'));
		Ti.App.fireEvent('myMentor:getMentorFilePath');
		$("#mentorName").html(aMentor.FULL_NAME);
		$("#mentorPhone").attr("href", "tel:" + aMentor.PHONE);
		$("#mentorPhone").html(aMentor.PHONE.substring(0,3) + "-" + aMentor.PHONE.substring(3,6) + "-" + aMentor.PHONE.substring(6));
		$("#mentorOffice").html(aMentor.BUILDING_NAME + ' ' + 
								aMentor.OFFICE_NUMBER);
		$("#mentorEmail").attr("href", "mailto:" + aMentor.FACULTY_USERNAME + '@ggc.edu');
		$("#mentorEmail").html(aMentor.FACULTY_USERNAME + '@ggc.edu');
	}
		
	
	$(document).ready(function() {
		loadMentorInfo();
	});
	
	window.onbeforeunload = function() {
		window.name = "reloader";
	}
</script>
</head>
<body>
	<div id="Screen">
		<!-- Banner -->
		<!-- Top content -->
		<div style="padding: 5% 5% 10% 5%">
			<!-- backButton -->
			<!-- Dont need this for HTML version -->
			<!-- <div id="backDiv">
				<img width="100%" height="100%"
					onclick="Ti.App.fireEvent('schedule:backPressed');" src=""
					alt="backButton">
				<figcaption>Back</figcaption>
			</div> -->
			<!-- /backButton -->
		</div>
		<!-- /TopContent -->

		<!-- mentorContent -->
		<div id="mentorContent">
			<div  style="margin: auto; width: 200px; height: 276px">
				<img id="mentorPicture" src="" height=100% width=100%>
			</div>
			<!-- /mentorPicture -->
			
			<!-- mentorInfo -->
			<div id="mentorInfo" style="width: 100%; height: 45%">
				<!-- nameRow -->
				<div id="nameRow" style="width: 100%; height: 20%;">
					<div style="display: inline-block; width: 30%; text-align: right;">
						<label id="nameLabel">Name:</label>
					</div>
					<span style="display: inline-block; width: 10%; height: 20%;"></span>
					<div style="display: inline-block; width: 40%; text-align: left;">
						<label id="mentorName"></label>
					</div>
				</div>
				<!-- /nameRow -->
				<br>
				<!-- phoneRow -->
				<div id="phoneRow" style="width: 100%; height: 20%">
					<div style="display: inline-block; width: 30%; text-align: right">
						<label id="phoneOneLabel">Phone:</label>
					</div>
					<span style="display: inline-block; width: 10%"></span>
					<div style="display: inline-block; width: 40%; text-align: left">
						<a id="mentorPhone" href=""></a>
					</div>
				</div>
				<!-- /phoneRow -->
				<!-- <br> -->
				<!-- phoneTwoRow -->
				<!-- <div id="phoneTwoRow" style="width: 100%; height: 20%">
					<div style="display: inline-block; width: 30%; text-align: right">
						<label id="phoneTwoLabel">Phone 2:</label>
					</div>
					<span style="display: inline-block; width: 10%"></span>
					<div style="display: inline-block; width: 40%; text-align: left">
						<label id="mentorPhoneTwo"></label>
					</div>
				</div> -->
				<!-- /phoneTwoRow -->
				<br>
				<!-- officeRow -->
				<div id="officeRow" style="width: 100%; height: 20%">
					<div style="display: inline-block; width: 30%; text-align: right">
						<label id="officeLabel">Office:</label>
					</div>
					<span style="display: inline-block; width: 10%"></span>
					<div style="display: inline-block; width: 40%; text-align: left">
						<label id="mentorOffice"></label>
					</div>
				</div>
				<!-- /officeRow -->
				<br>
				<!-- emailRow -->
				<div id="emailRow" style="width: 100%; height: 20%">
					<div style="display: inline-block; width: 30%; text-align: right">
						<label id="emailLabel">Email:</label>
					</div>
					<span style="display: inline-block; width: 10%"></span>
					<div style="display: inline-block; width: 40%; text-align: left">
						<a id="mentorEmail" href=""></a>
					</div>
				</div>
				<!-- /email Row -->
			</div>
			<!-- /mentorInfo -->
		</div>
		<!-- /mentorContent -->
	</div>
</body>
</html>