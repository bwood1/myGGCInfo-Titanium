<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="viewport" content="width=320, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>mySchedule</title>
<link rel="stylesheet" href="style.css" type="text/css" media="screen"
	title="no title" charset="utf-8">
<!-- <script type="text/javascript" charset="utf-8" src="js/wormhole.js"></script> -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<!-- <script src="js/jquery.js"></script> -->
<script type="text/javascript">
	var scheduleArray;

;
	var semester;
	var year;

	/**
	 *	Checks to see if the students schedule is saved to the device and is updated
	 */
	function checkScheduleInfo() {
		//TODO check to see if the student's schedule is saved on the device 
		//TODO check to see if the student's schedule is current 
	}

	/**
	 *	Will retrieve the students schedule from the server and store it in variables
	 */
	function retreiveScheduleInfo() {
		//get the date first
		getSemester();
		
		//TODO write a script that will request the student's schedule from the server 
		
		var scheduleRequest = new XMLHttpRequest();
				
		scheduleRequest.onreadystatechange = function(a,b,c) {
			if(scheduleRequest.readyState == 4) {
				// alert('got the schedule: ' + scheduleRequest.responseText);
				scheduleArray = eval('(' + scheduleRequest.responseText + ')');
				// alert(JSONObject);
				// alert(scheduleArray);
				showScheduleInfo();
			}
		}
		scheduleRequest.open("GET", "http://10.0.179.202/brandon/request.php?request=schedule&user=bwood1&session=" + 
			semester + "&year=" + year + "&key=cfcd208495d565ef66e7dff9f98764da");
		scheduleRequest.send();

	}

	/**
	 *	Will save the student's schedule to local storage
	 */
	function saveScheduleInfo() {
		//TODO write a script to save the schedule on the device 
	}

	/**
	 *	Will get the student's schedule from the device and store it in variables
	 */
	function getScheduleInfo() {
		//TODO write a script to get the student's schedule from local storage 
	}
	/**
	 * Determines which semester and year to display
	 */
	function getSemester() {
		var date = new Date();
		year = date.getFullYear();
		if(date.getMonth() >= 0 && date.getMonth() < 4){
			semester = 'Spring';
		}
		else if(date.getMonth() >= 4 && date.getMonth() < 7){
			semester = "Summer";
		}
		else if(date.getMonth() >= 7 && date.getMonth() < 12){
			semester = "Fall";
		}
	}

	/**
	 *	Will show the student's schedule on screen
	 */
	function showScheduleInfo() {
		for(var i=0; i<6; i++){           //for each day
			//check to make sure there are classes
			var classesLength;
			if (scheduleArray.dayOfWeek[i].classes == null){
				classesLength = 0;
			}
			else classesLength = scheduleArray.dayOfWeek[i].classes.length;
			
		    for(var j=0; j < classesLength; j++){       //for each class
		        
		        console.log('day: ' + scheduleArray.dayOfWeek[i].day + ' class ' + j + ": " + 
		        	scheduleArray.dayOfWeek[i].classes[j].subject + scheduleArray.dayOfWeek[i].classes[j].courseNum + 
                    scheduleArray.dayOfWeek[i].classes[j].section + scheduleArray.dayOfWeek[i].classes[j].building + 
                    scheduleArray.dayOfWeek[i].classes[j].roomNum + scheduleArray.dayOfWeek[i].classes[j].startTime +
                    scheduleArray.dayOfWeek[i].classes[j].endTime);
		        $("#"+i+"-"+j+"-0").html(scheduleArray.dayOfWeek[i].classes[j].subject);
		        $("#"+i+"-"+j+"-1").html(scheduleArray.dayOfWeek[i].classes[j].courseNum + "-" + 
                                         scheduleArray.dayOfWeek[i].classes[j].section);
                $("#"+i+"-"+j+"-2").html(scheduleArray.dayOfWeek[i].classes[j].building + "-" + 
                                         scheduleArray.dayOfWeek[i].classes[j].roomNum);
                $("#"+i+"-"+j+"-3").html(scheduleArray.dayOfWeek[i].classes[j].startTime); // + " - " + 
                                         //JSONObject.dayOfWeek[i].classes[j].endTime);
                // $("#"+i+"-"+j+"-4").html(scheduleArray.dayOfWeek[i].classes[j].professor);
		    }
		}
	}
    
    $(document).ready( function() {
        // showScheduleInfo();
        retreiveScheduleInfo();
    });
</script>
</head>
<body>
	<div id="screen">
		<!-- Banner -->
		<!-- Top content -->
		<div style="padding: 5% 5% 10% 5%">
			<!-- placeholder -->
			<div id="topPlaceholder"></div>
			<!-- LoginButton -->
			<div id="backDiv">
				<img width="100%" height="100%"
					onclick="document.location='index.html'" src="images/icons.png"
					alt="backButton">
				<figcaption>Back</figcaption>
			</div>
			<!-- /LoginButton -->
			<!-- myGGC Banner -->
			<div id="bannerDiv">
				<img alt="bannerImage" src="images/icons.png" width="100%"
					height="100%">
			</div>
		</div>
		<!-- /TopContent -->

		<br>

		<!-- scheduleContent -->
		<div id="scheduleContent" style="padding-top: 8%; height: 100%">
			<!-- monday -->
			<div id="monday">
				<div id="mondayLabel" style="text-align: left;">Monday</div>
				<div id="mondayClasses" style="text-align: left;">
					<table  style="border-color: white">
					    <tr>
					        <td id="0-0-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
					        <td id="0-0-1"> </td>      <!-- courseNum and sectionNum -->
					        <td id="0-0-2"> </td>      <!-- building and roomNum -->
					        <td id="0-0-3"> </td>      <!-- startTime and endTime -->
					        <td id="0-0-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
					        <td id="0-1-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="0-1-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="0-1-2"> </td>      <!-- building and roomNum -->
                            <td id="0-1-3"> </td>      <!-- startTime and endTime -->
                            <td id="0-1-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
                            <td id="0-2-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="0-2-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="0-2-2"> </td>      <!-- building and roomNum -->
                            <td id="0-2-3"> </td>      <!-- startTime and endTime -->
                            <td id="0-2-4"> </td>      <!-- professor -->
                        </tr>
                        <tr>
                            <td id="0-3-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="0-3-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="0-3-2"> </td>      <!-- building and roomNum -->
                            <td id="0-3-3"> </td>      <!-- startTime and endTime -->
                            <td id="0-3-4"> </td>      <!-- professor -->
                        </tr>
					</table>
				</div>
			</div>
			<!-- /monday -->

			<!-- tuesday -->
			<div id="tuesday">
				<div id="tuesdayLabel" style="text-align: left;">Tuesday</div>
				<div id="tuesdayClasses" style="text-align: left;">
						<table  style="border-color: white">
					    <tr>
					        <td id="1-0-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
					        <td id="1-0-1"> </td>      <!-- courseNum and sectionNum -->
					        <td id="1-0-2"> </td>      <!-- building and roomNum -->
					        <td id="1-0-3"> </td>      <!-- startTime and endTime -->
					        <td id="1-0-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
					        <td id="1-1-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="1-1-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="1-1-2"> </td>      <!-- building and roomNum -->
                            <td id="1-1-3"> </td>      <!-- startTime and endTime -->
                            <td id="1-1-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
                            <td id="1-2-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="1-2-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="1-2-2"> </td>      <!-- building and roomNum -->
                            <td id="1-2-3"> </td>      <!-- startTime and endTime -->
                            <td id="1-2-4"> </td>      <!-- professor -->
                        </tr>
                        <tr>
                            <td id="1-3-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="1-3-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="1-3-2"> </td>      <!-- building and roomNum -->
                            <td id="1-3-3"> </td>      <!-- startTime and endTime -->
                            <td id="1-3-4"> </td>      <!-- professor -->
                        </tr>
					</table>
					
				</div>
			</div>
			<!-- /tuesday -->

			<!-- wednesday -->
			<div id="wednesday">
				<div id="wednesdayLabel" style="text-align: left;">Wednesday</div>
				<div id="wednesdayClasses" style="text-align: left;">
						<table  style="border-color: white">
					    <tr>
					        <td id="2-0-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
					        <td id="2-0-1"> </td>      <!-- courseNum and sectionNum -->
					        <td id="2-0-2"> </td>      <!-- building and roomNum -->
					        <td id="2-0-3"> </td>      <!-- startTime and endTime -->
					        <td id="2-0-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
					        <td id="2-1-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="2-1-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="2-1-2"> </td>      <!-- building and roomNum -->
                            <td id="2-1-3"> </td>      <!-- startTime and endTime -->
                            <td id="2-1-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
                            <td id="2-2-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="2-2-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="2-2-2"> </td>      <!-- building and roomNum -->
                            <td id="2-2-3"> </td>      <!-- startTime and endTime -->
                            <td id="2-2-4"> </td>      <!-- professor -->
                        </tr>
                        <tr>
                            <td id="2-3-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="2-3-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="2-3-2"> </td>      <!-- building and roomNum -->
                            <td id="2-3-3"> </td>      <!-- startTime and endTime -->
                            <td id="2-3-4"> </td>      <!-- professor -->
                        </tr>
					</table>
					
				</div>
			</div>
			<!-- /wedensday -->

			<!-- thursday -->
			<div id="thursday">
				<div id="thursdayLabel" style="text-align: left;">Thursday</div>
				<div id="thursdayClasses" style="text-align: left;">
						<table  style="border-color: white">
					    <tr>
					        <td id="3-0-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
					        <td id="3-0-1"> </td>      <!-- courseNum and sectionNum -->
					        <td id="3-0-2"> </td>      <!-- building and roomNum -->
					        <td id="3-0-3"> </td>      <!-- startTime and endTime -->
					        <td id="3-0-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
					        <td id="3-1-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="3-1-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="3-1-2"> </td>      <!-- building and roomNum -->
                            <td id="3-1-3"> </td>      <!-- startTime and endTime -->
                            <td id="3-1-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
                            <td id="3-2-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="3-2-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="3-2-2"> </td>      <!-- building and roomNum -->
                            <td id="3-2-3"> </td>      <!-- startTime and endTime -->
                            <td id="3-2-4"> </td>      <!-- professor -->
                        </tr>
                        <tr>
                            <td id="3-3-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="3-3-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="3-3-2"> </td>      <!-- building and roomNum -->
                            <td id="3-3-3"> </td>      <!-- startTime and endTime -->
                            <td id="3-3-4"> </td>      <!-- professor -->
                        </tr>
					</table>
					
				</div>
			</div>
			<!-- /thursday -->

			<!-- friday -->
			<div id="friday">
				<div id="fridayLabel" style="text-align: left;">Friday</div>
				<div id="fridayClasses" style="text-align: left;">
						<table  style="border-color: white">
					    <tr>
					        <td id="4-0-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
					        <td id="4-0-1"> </td>      <!-- courseNum and sectionNum -->
					        <td id="4-0-2"> </td>      <!-- building and roomNum -->
					        <td id="4-0-3"> </td>      <!-- startTime and endTime -->
					        <td id="4-0-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
					        <td id="4-1-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="4-1-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="4-1-2"> </td>      <!-- building and roomNum -->
                            <td id="4-1-3"> </td>      <!-- startTime and endTime -->
                            <td id="4-1-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
                            <td id="4-2-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="4-2-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="4-2-2"> </td>      <!-- building and roomNum -->
                            <td id="4-2-3"> </td>      <!-- startTime and endTime -->
                            <td id="4-2-4"> </td>      <!-- professor -->
                        </tr>
                        <tr>
                            <td id="4-3-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="4-3-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="4-3-2"> </td>      <!-- building and roomNum -->
                            <td id="4-3-3"> </td>      <!-- startTime and endTime -->
                            <td id="4-3-4"> </td>      <!-- professor -->
                        </tr>
					</table>
				</div>
			</div>
			<!-- /friday -->
			
			<!-- saturday -->
			<div id="saturday">
				<div id="saturdayLabel" style="text-align: left;">Saturday</div>
				<div id="saturdayClasses" style="text-align: left;">
						<table  style="border-color: white">
					    <tr>
					        <td id="5-0-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
					        <td id="5-0-1"> </td>      <!-- courseNum and sectionNum -->
					        <td id="5-0-2"> </td>      <!-- building and roomNum -->
					        <td id="5-0-3"> </td>      <!-- startTime and endTime -->
					        <td id="5-0-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
					        <td id="5-1-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="5-1-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="5-1-2"> </td>      <!-- building and roomNum -->
                            <td id="5-1-3"> </td>      <!-- startTime and endTime -->
                            <td id="5-1-4"> </td>      <!-- professor -->
					    </tr>
					    <tr>
                            <td id="5-2-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="5-2-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="5-2-2"> </td>      <!-- building and roomNum -->
                            <td id="5-2-3"> </td>      <!-- startTime and endTime -->
                            <td id="5-2-4"> </td>      <!-- professor -->
                        </tr>
                        <tr>
                            <td id="5-3-0"> </td>      <!-- dayOfWeek(Monday)-class(CHEM)-column(Subject) -->
                            <td id="5-3-1"> </td>      <!-- courseNum and sectionNum -->
                            <td id="5-3-2"> </td>      <!-- building and roomNum -->
                            <td id="5-3-3"> </td>      <!-- startTime and endTime -->
                            <td id="5-3-4"> </td>      <!-- professor -->
                        </tr>
					</table>
				</div>
			</div>
			<!-- /saturday -->
		</div>
		<!-- /scheduleContent -->
	</div>
	<!-- /screen -->
</body>
</html>